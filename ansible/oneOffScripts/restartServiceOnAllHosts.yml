---
- hosts: all
  gather_facts: no

  - fail: msg="`name` needs to be defined for this role"
    when: name is not defined

  tasks:
    name : restart {{ name }}
    sudo: yes
    service:
      name={{ name }}
      state=restarted
