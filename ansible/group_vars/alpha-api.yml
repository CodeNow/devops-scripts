name: api

container_image: registry.runnable.com/runnable/{{ name }}

hosted_ports: [ "{{ api_port }}" ]

# for redis
redis_key: frontend:{{ api_hostname }}
is_redis_update_required: yes

memory_hard_limit: 1g

local_envs:
  - name: ROLLBAR_KEY
    value: "{{ api_rollbar_key }}"

# for container settings
container_envs: "{{ api_base_container_envs + local_envs }}"

container_run_opts: >
  -h {{ name }}
  -d
  -P
  -v /opt/ssl/docker/{{ name }}:/etc/ssl/docker:ro
  -v /opt/ssl/mongodb-client:/opt/ssl/mongodb-client:ro
  {{ container_envs }}
