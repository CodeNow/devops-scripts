name: prometheus

# container_kill_start settings
container_image: prom/prometheus
container_tag: v1.3.1

prometheus_root: /opt/runnable/prometheus

memory_hard_limit: 15g

container_run_opts: >
  -d
  -p {{ prometheus_port }}:{{ prometheus_port }}
  -v {{ prometheus_root }}:/prometheus

container_run_args: >
  -alertmanager.url "{{ prometheus_alert_url }}"
  -config.file=/prometheus/prometheus.yml
  -storage.local.path "data"
  -storage.local.retention 168h0m0s
  -web.external-url http://localhost
  -web.listen-address ":{{ prometheus_port }}"
