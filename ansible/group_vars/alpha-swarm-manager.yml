name: swarm-manager

container_image: swarm
container_tag: 1.2.3-0

hosted_ports: ["{{ swarm_master_port }}"]

memory_hard_limit: 10g

volume_mounts:
  - name: "{{ name }}-docker-ssl-certs"
    path: /etc/ssl/docker
    kind: configMap

container_run_args: >
  manage
  --tlsverify
  --tlscacert={{ docker_ca_path }}
  --tlscert={{ docker_cert_path }}
  --tlskey={{ docker_key_path }}
  consul://{{ consul_host_address }}:{{ consul_api_port }}/swarm
