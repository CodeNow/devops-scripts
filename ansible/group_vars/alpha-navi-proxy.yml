---
name: nginx

# used by consul template updater
target_container_name: nginx
dest_path: /etc/nginx/sites-enabled
template_path: /etc/nginx/template/navi.tmpl
template_command: "/bin/docker kill -s HUP {{ target_container_name }}"
out_file: 'navi.conf'

# used by container_kill_start
container_image: "{{ name }}"
container_tag: "1.10"

container_run_opts: >
  -d
  --net=host
  --name {{ name }}
  -p 0.0.0.0:443:443
  -p 0.0.0.0:80:80
  -v /etc/nginx/nginx.conf:/etc/nginx/nginx.conf:ro
  -v {{ dest_path }}
  -v /etc/ssl/certs/{{ user_content_domain }}:/etc/ssl/certs/{{ user_content_domain }}:ro
  -v /var/log/nginx:/var/log/nginx
