name: api-socket-server

# copy certs into docker image:
docker_client_certs: true

container_image: registry.runnable.com/runnable/{{ name }}

# Swarm Cluster Network
swarm_cluster_network: "{{ env }}-backend"

# Swarm Service Tag
swarm_service_tag: frontend

hosted_ports: [ "{{ api_port }}" ]

# for redis
redis_key: frontend:{{ api_socket_server_hostname }}
is_redis_update_required: yes

# for container settings
container_envs: >
  {{ api_base_container_envs }}
  -e NUM_WORKERS=1
  -e ROLLBAR_KEY={{ api_socket_server_rollbar_key }}

container_run_opts: >
  {{ container_envs }}
