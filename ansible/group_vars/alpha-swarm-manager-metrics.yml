---
name: swarm-cloudwatch-reporter

repo: git@github.com:CodeNow/furry-cactus.git
container_image: "{{ registry_host }}/runnable/{{ name }}"
container_tag: "{{ git_branch }}"
node_version: "4.4.7"
npm_version: 3

dockerfile_pre_install_commands:
- npm config set progress false

cron_scedule: "*/5 * * * *"

volume_mounts:
  - name: "{{ name }}-docker-ssl-certs"
    path: /etc/ssl/docker
    kind: configMap

container_run_opts:
  - name: AWS_ACCESS_KEY
    value: "{{ aws_access_key }}"
  - name: AWS_SECRET_KEY
    value: "{{ aws_secret_key }}"
  - name: DOCKER_CERT_PATH
    value: "/opt/ssl/docker/swarm-manager"
  - name: ENVIRONMENT
    value: "{{ environment_name }}"
  - name: SWARM_HOSTNAME
    value: "swarm"
  - name: SWARM_PORT
    value: "{{ swarm_master_port }}"
