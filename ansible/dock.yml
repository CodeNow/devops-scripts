---
- hosts: localhost
  connection: local
  tasks:
  - fail: msg="`dock` (target dock) needs to be defined to run this role"
    when: dock is not defined

  - add_host:
      name={{ dock }}
      groups=dock

- include: dock-init.yml git_branch="{{ dock_init_version }}"
- include: krain.yml git_branch="{{ krain_version }}"
- include: filibuster.yml git_branch="{{ filibuster_version }}"
- include: charon.yml git_branch="{{ charon_version }}"
- include: image-builder.yml git_branch="{{ image_builder_version }}"
- include: docker-listener.yml git_branch="{{ docker_listener_version }}"
